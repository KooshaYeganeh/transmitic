<html>
	<head>
		<title>Test</title>
		<style>
		
		@import url(style.css);

body { margin:0; }
div {min-width:min-content;}
frameset {min-height:min-content;}

splitter { display:none; border:none; width: 3px; background:color(border);}
splitter:hover { background:color(accent); }


        </style>
		<script>
			document.attributes["theme"] = "dark";

document.on("click","button#load1", function() {
  document.$("frame").src = "about.htm";
});

	function loadPage() {
		console.print("hello");
	}

	let navLinks = [
		{
			"name": "Downloads",
			"icon": "ic_fluent_arrow_download_48_regular.svg",
			"html": "downloads.htm"
		},
		{
			"name": "Shared With Me",
			"icon": "ic_fluent_globe_32_regular.svg",
			"html": "shared_with_me.htm"
		},
		{
			"name": "My Shared",
			"icon": "ic_fluent_folder_48_regular.svg",
			"html": "my_sharing.htm"
		},
		{
			"name": "Users",
			"icon": "ic_fluent_people_32_regular.svg",
			"html": "users.htm"
		},
		{
			"name": "My ID",
			"icon": "ic_fluent_guest_28_regular.svg",
			"html": "my_id.htm"
		},
		{
			"name": "About",
			"icon": "ic_fluent_info_28_regular.svg",
			"html": "about.htm"
		},
		{
			"name": "Help",
			"icon": "ic_fluent_question_circle_28_regular.svg",
			"html": "welcome.htm"
		}
	];


	class NavBar extends Element {

		counter;  // Simple counter/index for each navlink
		activeIndex;  // Index of active navlink

		this(props) {
            this.counter = 0;
            this.activeIndex = 0;
        }

		render() {
			this.counter = 0;
			return <div>
				{ navLinks.map((d) => <NavLink name={d.name} icon={d.icon} htmlPage={d.html} navIndex={this.counter++} activeIndex={this.activeIndex} />) } 
			</div>;
		}
	}

	class NavLink extends Element {

		navIndex;
		activeIndex;
		htmlPage;

        this(props) { 
            this.navIndex = props.navIndex;
            this.activeIndex = props.activeIndex;
			this.htmlPage = props.htmlPage;

            if (this.navIndex == this.activeIndex) {
                this.navBlockStlye = "background-color: color(accent);";
            }
            else {
                this.navBlockStlye = "";
            }
        }

		render(props) {
			return <div class="nav-button">
				<div class="nav-block" style={this.navBlockStlye}> </div>
				<img class="nav-icon" src={props.icon}/>
				<div class="nav-text">{props.name}</div>
			</div>;
		}

		["on click at div.nav-button"]() { 
			document.$("frame").src = this.htmlPage;
			this.parentElement.componentUpdate({ activeIndex: this.navIndex });
		}
	}

	document.$("frame").src = navLinks[0].html;
	document.$("div.nav-bar").content(<NavBar />);

	</script>
	</head>
	<body>
		<frameset cols="200px,*">
			<div class="nav-bar">
			</div>
			<splitter/>
			<frame/>
		</frameset>
	</body>
</html>